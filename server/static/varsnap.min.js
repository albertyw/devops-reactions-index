/*
 * VarSnap.js v1.0.1
 */
!function(t){!function(e){if("object"==typeof t&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).varsnap=e()}}(function(){return function i(a,u,c){function s(t,e){if(!u[t]){if(!a[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(p)return p(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var o=u[t]={exports:{}};a[t][0].call(o.exports,function(e){return s(a[t][1][e]||e)},o,o.exports,i,a,u,c)}return u[t].exports}for(var p="function"==typeof require&&require,e=0;e<c.length;e++)s(c[e]);return s}({1:[function(e,t,r){"use strict";var n=e("./varsnap/core");n.varsnap.version=n.version,n.varsnap.TestCase=function(){return e("./varsnap/test")},t.exports=n.varsnap},{"./varsnap/core":33,"./varsnap/test":void 0}],2:[function(e,t,r){"use strict";function i(e,t,r,n){t in e&&(!function(e){return"function"==typeof e&&"[object Function]"===o.call(e)}(n)||!n())||(p?s(e,t,{configurable:!0,enumerable:!1,value:r,writable:!0}):e[t]=r)}function n(e,t){var r=2<arguments.length?arguments[2]:{},n=a(t);u&&(n=c.call(n,Object.getOwnPropertySymbols(t)));for(var o=0;o<n.length;o+=1)i(e,n[o],t[n[o]],r[n[o]])}var a=e("object-keys"),u="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),o=Object.prototype.toString,c=Array.prototype.concat,s=Object.defineProperty,p=s&&function(){var e={};try{for(var t in s(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(e){return!1}}();n.supportsDescriptors=!!p,t.exports=n},{"object-keys":21}],3:[function(e,t,r){"use strict";var n,o=Object.getOwnPropertyDescriptor?function(){return Object.getOwnPropertyDescriptor(arguments,"callee").get}():function(){throw new TypeError},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,a=Object.getPrototypeOf||function(e){return e.__proto__},u=n,c=n,s=n,p=n,f="undefined"==typeof Uint8Array?n:a(Uint8Array),l={"$ %Array%":Array,"$ %ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"$ %ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer.prototype,"$ %ArrayIteratorPrototype%":i?a([][Symbol.iterator]()):n,"$ %ArrayPrototype%":Array.prototype,"$ %ArrayProto_entries%":Array.prototype.entries,"$ %ArrayProto_forEach%":Array.prototype.forEach,"$ %ArrayProto_keys%":Array.prototype.keys,"$ %ArrayProto_values%":Array.prototype.values,"$ %AsyncFromSyncIteratorPrototype%":n,"$ %AsyncFunction%":c,"$ %AsyncFunctionPrototype%":n,"$ %AsyncGenerator%":n,"$ %AsyncGeneratorFunction%":s,"$ %AsyncGeneratorPrototype%":n,"$ %AsyncIteratorPrototype%":p&&i&&Symbol.asyncIterator?p[Symbol.asyncIterator]():n,"$ %Atomics%":"undefined"==typeof Atomics?n:Atomics,"$ %Boolean%":Boolean,"$ %BooleanPrototype%":Boolean.prototype,"$ %DataView%":"undefined"==typeof DataView?n:DataView,"$ %DataViewPrototype%":"undefined"==typeof DataView?n:DataView.prototype,"$ %Date%":Date,"$ %DatePrototype%":Date.prototype,"$ %decodeURI%":decodeURI,"$ %decodeURIComponent%":decodeURIComponent,"$ %encodeURI%":encodeURI,"$ %encodeURIComponent%":encodeURIComponent,"$ %Error%":Error,"$ %ErrorPrototype%":Error.prototype,"$ %eval%":eval,"$ %EvalError%":EvalError,"$ %EvalErrorPrototype%":EvalError.prototype,"$ %Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"$ %Float32ArrayPrototype%":"undefined"==typeof Float32Array?n:Float32Array.prototype,"$ %Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"$ %Float64ArrayPrototype%":"undefined"==typeof Float64Array?n:Float64Array.prototype,"$ %Function%":Function,"$ %FunctionPrototype%":Function.prototype,"$ %Generator%":n,"$ %GeneratorFunction%":u,"$ %GeneratorPrototype%":n,"$ %Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"$ %Int8ArrayPrototype%":"undefined"==typeof Int8Array?n:Int8Array.prototype,"$ %Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"$ %Int16ArrayPrototype%":"undefined"==typeof Int16Array?n:Int8Array.prototype,"$ %Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"$ %Int32ArrayPrototype%":"undefined"==typeof Int32Array?n:Int32Array.prototype,"$ %isFinite%":isFinite,"$ %isNaN%":isNaN,"$ %IteratorPrototype%":i?a(a([][Symbol.iterator]())):n,"$ %JSON%":JSON,"$ %JSONParse%":JSON.parse,"$ %Map%":"undefined"==typeof Map?n:Map,"$ %MapIteratorPrototype%":"undefined"!=typeof Map&&i?a((new Map)[Symbol.iterator]()):n,"$ %MapPrototype%":"undefined"==typeof Map?n:Map.prototype,"$ %Math%":Math,"$ %Number%":Number,"$ %NumberPrototype%":Number.prototype,"$ %Object%":Object,"$ %ObjectPrototype%":Object.prototype,"$ %ObjProto_toString%":Object.prototype.toString,"$ %ObjProto_valueOf%":Object.prototype.valueOf,"$ %parseFloat%":parseFloat,"$ %parseInt%":parseInt,"$ %Promise%":"undefined"==typeof Promise?n:Promise,"$ %PromisePrototype%":"undefined"==typeof Promise?n:Promise.prototype,"$ %PromiseProto_then%":"undefined"==typeof Promise?n:Promise.prototype.then,"$ %Promise_all%":"undefined"==typeof Promise?n:Promise.all,"$ %Promise_reject%":"undefined"==typeof Promise?n:Promise.reject,"$ %Promise_resolve%":"undefined"==typeof Promise?n:Promise.resolve,"$ %Proxy%":"undefined"==typeof Proxy?n:Proxy,"$ %RangeError%":RangeError,"$ %RangeErrorPrototype%":RangeError.prototype,"$ %ReferenceError%":ReferenceError,"$ %ReferenceErrorPrototype%":ReferenceError.prototype,"$ %Reflect%":"undefined"==typeof Reflect?n:Reflect,"$ %RegExp%":RegExp,"$ %RegExpPrototype%":RegExp.prototype,"$ %Set%":"undefined"==typeof Set?n:Set,"$ %SetIteratorPrototype%":"undefined"!=typeof Set&&i?a((new Set)[Symbol.iterator]()):n,"$ %SetPrototype%":"undefined"==typeof Set?n:Set.prototype,"$ %SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"$ %SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer.prototype,"$ %String%":String,"$ %StringIteratorPrototype%":i?a(""[Symbol.iterator]()):n,"$ %StringPrototype%":String.prototype,"$ %Symbol%":i?Symbol:n,"$ %SymbolPrototype%":i?Symbol.prototype:n,"$ %SyntaxError%":SyntaxError,"$ %SyntaxErrorPrototype%":SyntaxError.prototype,"$ %ThrowTypeError%":o,"$ %TypedArray%":f,"$ %TypedArrayPrototype%":f?f.prototype:n,"$ %TypeError%":TypeError,"$ %TypeErrorPrototype%":TypeError.prototype,"$ %Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"$ %Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?n:Uint8Array.prototype,"$ %Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"$ %Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray.prototype,"$ %Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"$ %Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?n:Uint16Array.prototype,"$ %Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"$ %Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?n:Uint32Array.prototype,"$ %URIError%":URIError,"$ %URIErrorPrototype%":URIError.prototype,"$ %WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"$ %WeakMapPrototype%":"undefined"==typeof WeakMap?n:WeakMap.prototype,"$ %WeakSet%":"undefined"==typeof WeakSet?n:WeakSet,"$ %WeakSetPrototype%":"undefined"==typeof WeakSet?n:WeakSet.prototype};t.exports=function(e,t){if(1<arguments.length&&"boolean"!=typeof t)throw new TypeError('"allowMissing" argument must be a boolean');var r="$ "+e;if(!(r in l))throw new SyntaxError("intrinsic "+e+" does not exist!");if(void 0===l[r]&&!t)throw new TypeError("intrinsic "+e+" exists, but is not available. Please file an issue!");return l[r]}},{}],4:[function(e,t,r){"use strict";var n=e("./GetIntrinsic"),o=n("%Object%"),i=n("%TypeError%"),a=n("%String%"),u=e("./helpers/assertRecord"),c=e("./helpers/isNaN"),s=e("./helpers/isFinite"),p=e("./helpers/sign"),f=e("./helpers/mod"),l=e("is-callable"),y=e("es-to-primitive/es5"),d=e("has"),g={ToPrimitive:y,ToBoolean:function(e){return!!e},ToNumber:function(e){return+e},ToInteger:function(e){var t=this.ToNumber(e);return c(t)?0:0!==t&&s(t)?p(t)*Math.floor(Math.abs(t)):t},ToInt32:function(e){return this.ToNumber(e)>>0},ToUint32:function(e){return this.ToNumber(e)>>>0},ToUint16:function(e){var t=this.ToNumber(e);if(c(t)||0===t||!s(t))return 0;var r=p(t)*Math.floor(Math.abs(t));return f(r,65536)},ToString:function(e){return a(e)},ToObject:function(e){return this.CheckObjectCoercible(e),o(e)},CheckObjectCoercible:function(e,t){if(null==e)throw new i(t||"Cannot call method on "+e);return e},IsCallable:l,SameValue:function(e,t){return e===t?0!==e||1/e==1/t:c(e)&&c(t)},Type:function(e){return null===e?"Null":void 0===e?"Undefined":"function"==typeof e||"object"==typeof e?"Object":"number"==typeof e?"Number":"boolean"==typeof e?"Boolean":"string"==typeof e?"String":void 0},IsPropertyDescriptor:function(e){if("Object"!==this.Type(e))return!1;var t={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var r in e)if(d(e,r)&&!t[r])return!1;var n=d(e,"[[Value]]"),o=d(e,"[[Get]]")||d(e,"[[Set]]");if(n&&o)throw new i("Property Descriptors may not be both accessor and data descriptors");return!0},IsAccessorDescriptor:function(e){return void 0!==e&&(u(this,"Property Descriptor","Desc",e),!(!d(e,"[[Get]]")&&!d(e,"[[Set]]")))},IsDataDescriptor:function(e){return void 0!==e&&(u(this,"Property Descriptor","Desc",e),!(!d(e,"[[Value]]")&&!d(e,"[[Writable]]")))},IsGenericDescriptor:function(e){return void 0!==e&&(u(this,"Property Descriptor","Desc",e),!this.IsAccessorDescriptor(e)&&!this.IsDataDescriptor(e))},FromPropertyDescriptor:function(e){if(void 0===e)return e;if(u(this,"Property Descriptor","Desc",e),this.IsDataDescriptor(e))return{value:e["[[Value]]"],writable:!!e["[[Writable]]"],enumerable:!!e["[[Enumerable]]"],configurable:!!e["[[Configurable]]"]};if(this.IsAccessorDescriptor(e))return{get:e["[[Get]]"],set:e["[[Set]]"],enumerable:!!e["[[Enumerable]]"],configurable:!!e["[[Configurable]]"]};throw new i("FromPropertyDescriptor must be called with a fully populated Property Descriptor")},ToPropertyDescriptor:function(e){if("Object"!==this.Type(e))throw new i("ToPropertyDescriptor requires an object");var t={};if(d(e,"enumerable")&&(t["[[Enumerable]]"]=this.ToBoolean(e.enumerable)),d(e,"configurable")&&(t["[[Configurable]]"]=this.ToBoolean(e.configurable)),d(e,"value")&&(t["[[Value]]"]=e.value),d(e,"writable")&&(t["[[Writable]]"]=this.ToBoolean(e.writable)),d(e,"get")){var r=e.get;if(void 0!==r&&!this.IsCallable(r))throw new TypeError("getter must be a function");t["[[Get]]"]=r}if(d(e,"set")){var n=e.set;if(void 0!==n&&!this.IsCallable(n))throw new i("setter must be a function");t["[[Set]]"]=n}if((d(t,"[[Get]]")||d(t,"[[Set]]"))&&(d(t,"[[Value]]")||d(t,"[[Writable]]")))throw new i("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return t}};t.exports=g},{"./GetIntrinsic":3,"./helpers/assertRecord":5,"./helpers/isFinite":6,"./helpers/isNaN":7,"./helpers/mod":8,"./helpers/sign":9,"es-to-primitive/es5":10,has:17,"is-callable":18}],5:[function(e,t,r){"use strict";var n=e("../GetIntrinsic"),a=n("%TypeError%"),i=n("%SyntaxError%"),u=e("has"),c={"Property Descriptor":function(e,t){if("Object"!==e.Type(t))return!1;var r={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var n in t)if(u(t,n)&&!r[n])return!1;var o=u(t,"[[Value]]"),i=u(t,"[[Get]]")||u(t,"[[Set]]");if(o&&i)throw new a("Property Descriptors may not be both accessor and data descriptors");return!0}};t.exports=function(e,t,r,n){var o=c[t];if("function"!=typeof o)throw new i("unknown record type: "+t);if(!o(e,n))throw new a(r+" must be a "+t);console.log(o(e,n),n)}},{"../GetIntrinsic":3,has:17}],6:[function(e,t,r){var n=Number.isNaN||function(e){return e!=e};t.exports=Number.isFinite||function(e){return"number"==typeof e&&!n(e)&&e!==1/0&&e!==-1/0}},{}],7:[function(e,t,r){t.exports=Number.isNaN||function(e){return e!=e}},{}],8:[function(e,t,r){t.exports=function(e,t){var r=e%t;return Math.floor(0<=r?r:r+t)}},{}],9:[function(e,t,r){t.exports=function(e){return 0<=e?1:-1}},{}],10:[function(e,t,r){"use strict";var i=Object.prototype.toString,a=e("./helpers/isPrimitive"),u=e("is-callable"),n=function(e){var t;if((t=1<arguments.length?arguments[1]:"[object Date]"===i.call(e)?String:Number)!==String&&t!==Number)throw new TypeError("invalid [[DefaultValue]] hint supplied");var r,n,o=t===String?["toString","valueOf"]:["valueOf","toString"];for(n=0;n<o.length;++n)if(u(e[o[n]])&&(r=e[o[n]](),a(r)))return r;throw new TypeError("No default value")};t.exports=function(e,t){return a(e)?e:1<arguments.length?n(e,t):n(e)}},{"./helpers/isPrimitive":11,"is-callable":18}],11:[function(e,t,r){t.exports=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e}},{}],12:[function(e,t,r){"use strict";var y=Array.isArray,d=Object.keys,g=Object.prototype.hasOwnProperty;t.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){var n,o,i,a=y(t),u=y(r);if(a&&u){if((o=t.length)!=r.length)return!1;for(n=o;0!=n--;)if(!e(t[n],r[n]))return!1;return!0}if(a!=u)return!1;var c=t instanceof Date,s=r instanceof Date;if(c!=s)return!1;if(c&&s)return t.getTime()==r.getTime();var p=t instanceof RegExp,f=r instanceof RegExp;if(p!=f)return!1;if(p&&f)return t.toString()==r.toString();var l=d(t);if((o=l.length)!==d(r).length)return!1;for(n=o;0!=n--;)if(!g.call(r,l[n]))return!1;for(n=o;0!=n--;)if(!e(t[i=l[n]],r[i]))return!1;return!0}return t!=t&&r!=r}},{}],13:[function(e,t,r){"use strict";var o=e("is-callable"),i=Object.prototype.toString,a=Object.prototype.hasOwnProperty;t.exports=function(e,t,r){if(!o(t))throw new TypeError("iterator must be a function");var n;3<=arguments.length&&(n=r),"[object Array]"===i.call(e)?function(e,t,r){for(var n=0,o=e.length;n<o;n++)a.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))}(e,t,n):"string"==typeof e?function(e,t,r){for(var n=0,o=e.length;n<o;n++)null==r?t(e.charAt(n),n,e):t.call(r,e.charAt(n),n,e)}(e,t,n):function(e,t,r){for(var n in e)a.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))}(e,t,n)}},{"is-callable":18}],14:[function(e,t,r){"use strict";var c=Array.prototype.slice,s=Object.prototype.toString;t.exports=function(t){var r=this;if("function"!=typeof r||"[object Function]"!==s.call(r))throw new TypeError("Function.prototype.bind called on incompatible "+r);for(var n,o=c.call(arguments,1),e=Math.max(0,r.length-o.length),i=[],a=0;a<e;a++)i.push("$"+a);if(n=Function("binder","return function ("+i.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof n){var e=r.apply(this,o.concat(c.call(arguments)));return Object(e)===e?e:this}return r.apply(t,o.concat(c.call(arguments)))}),r.prototype){var u=function(){};u.prototype=r.prototype,n.prototype=new u,u.prototype=null}return n}},{}],15:[function(e,t,r){"use strict";var n=e("./implementation");t.exports=Function.prototype.bind||n},{"./implementation":14}],16:[function(e,r,t){(function(e){var t;t="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},r.exports=t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],17:[function(e,t,r){"use strict";var n=e("function-bind");t.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},{"function-bind":15}],18:[function(e,t,r){"use strict";function n(e){try{var t=o.call(e);return i.test(t)}catch(e){return!1}}var o=Function.prototype.toString,i=/^\s*class\b/,a=Object.prototype.toString,u="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=function(e){if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;if(u)return function(e){try{return!n(e)&&(o.call(e),!0)}catch(e){return!1}}(e);if(n(e))return!1;var t=a.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t}},{}],19:[function(e,t,r){t.exports=function(e){var t=n.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)};var n=Object.prototype.toString},{}],20:[function(e,t,r){"use strict";var n;if(!Object.keys){var l=Object.prototype.hasOwnProperty,y=Object.prototype.toString,d=e("./isArguments"),o=Object.prototype.propertyIsEnumerable,g=!o.call({toString:null},"toString"),b=o.call(function(){},"prototype"),h=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],v=function(e){var t=e.constructor;return t&&t.prototype===e},i={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},m=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!i["$"+e]&&l.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{v(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();n=function(e){var t=null!==e&&"object"==typeof e,r="[object Function]"===y.call(e),n=d(e),o=t&&"[object String]"===y.call(e),i=[];if(!t&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var a=b&&r;if(o&&0<e.length&&!l.call(e,0))for(var u=0;u<e.length;++u)i.push(String(u));if(n&&0<e.length)for(var c=0;c<e.length;++c)i.push(String(c));else for(var s in e)a&&"prototype"===s||!l.call(e,s)||i.push(String(s));if(g)for(var p=function(e){if("undefined"==typeof window||!m)return v(e);try{return v(e)}catch(e){return!1}}(e),f=0;f<h.length;++f)p&&"constructor"===h[f]||!l.call(e,h[f])||i.push(h[f]);return i}}t.exports=n},{"./isArguments":22}],21:[function(e,t,r){"use strict";var n=Array.prototype.slice,o=e("./isArguments"),i=Object.keys,a=i?function(e){return i(e)}:e("./implementation"),u=Object.keys;a.shim=function(){Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(e){return o(e)?u(n.call(e)):u(e)}):Object.keys=a;return Object.keys||a},t.exports=a},{"./implementation":20,"./isArguments":22}],22:[function(e,t,r){"use strict";var n=Object.prototype.toString;t.exports=function(e){var t=n.call(e),r="[object Arguments]"===t;return r=r||"[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&0<=e.length&&"[object Function]"===n.call(e.callee)}},{}],23:[function(e,t,r){var i=e("string.prototype.trim"),n=e("for-each");t.exports=function(e){if(!e)return{};var o={};return n(i(e).split("\n"),function(e){var t=e.indexOf(":"),r=i(e.slice(0,t)).toLowerCase(),n=i(e.slice(t+1));void 0===o[r]?o[r]=n:!function(e){return"[object Array]"===Object.prototype.toString.call(e)}(o[r])?o[r]=[o[r],n]:o[r].push(n)}),o}},{"for-each":13,"string.prototype.trim":28}],24:[function(e,t,r){"use strict";t.exports=function(e,t,r,n){t=t||"&",r=r||"=";var o={};if("string"!=typeof e||0===e.length)return o;var i=/\+/g;e=e.split(t);var a=1e3;n&&"number"==typeof n.maxKeys&&(a=n.maxKeys);var u,c,s=e.length;0<a&&a<s&&(s=a);for(var p=0;p<s;++p){var f,l,y,d,g=e[p].replace(i,"%20"),b=g.indexOf(r);l=0<=b?(f=g.substr(0,b),g.substr(b+1)):(f=g,""),y=decodeURIComponent(f),d=decodeURIComponent(l),u=o,c=y,Object.prototype.hasOwnProperty.call(u,c)?h(o[y])?o[y].push(d):o[y]=[o[y],d]:o[y]=d}return o};var h=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],25:[function(e,t,r){"use strict";function i(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}}t.exports=function(r,n,o,e){return n=n||"&",o=o||"=",null===r&&(r=void 0),"object"==typeof r?u(c(r),function(e){var t=encodeURIComponent(i(e))+o;return a(r[e])?u(r[e],function(e){return t+encodeURIComponent(i(e))}).join(n):t+encodeURIComponent(i(r[e]))}).join(n):e?encodeURIComponent(i(e))+o+encodeURIComponent(i(r)):""};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function u(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var c=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},{}],26:[function(e,t,r){"use strict";r.decode=r.parse=e("./decode"),r.encode=r.stringify=e("./encode")},{"./decode":24,"./encode":25}],27:[function(e,t,r){"use strict";var n=e("function-bind"),o=e("es-abstract/es5"),i=n.call(Function.call,String.prototype.replace),a=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,u=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;t.exports=function(){var e=o.ToString(o.CheckObjectCoercible(this));return i(i(e,a,""),u,"")}},{"es-abstract/es5":4,"function-bind":15}],28:[function(e,t,r){"use strict";var n=e("function-bind"),o=e("define-properties"),i=e("./implementation"),a=e("./polyfill"),u=e("./shim"),c=n.call(Function.call,a());o(c,{getPolyfill:a,implementation:i,shim:u}),t.exports=c},{"./implementation":27,"./polyfill":29,"./shim":30,"define-properties":2,"function-bind":15}],29:[function(e,t,r){"use strict";var n=e("./implementation");t.exports=function(){return String.prototype.trim&&"​"==="​".trim()?String.prototype.trim:n}},{"./implementation":27}],30:[function(e,t,r){"use strict";var n=e("define-properties"),o=e("./polyfill");t.exports=function(){var e=o();return n(String.prototype,{trim:e},{trim:function(){return String.prototype.trim!==e}}),e}},{"./polyfill":29,"define-properties":2}],31:[function(e,t,r){"use strict";var n=e("global/window"),o=e("is-function"),b=e("parse-headers"),i=e("xtend");function a(e,t,r){var n=e;return o(t)?(r=t,"string"==typeof e&&(n={uri:e})):n=i(t,{uri:e}),n.callback=r,n}function h(e,t,r){return u(t=a(e,t,r))}function u(n){if(void 0===n.callback)throw new Error("callback argument missing");var o=!1,i=function(e,t,r){o||(o=!0,n.callback(e,t,r))};function t(e){return clearTimeout(u),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,i(e,g)}function e(){if(!a){var e;clearTimeout(u),e=n.useXDR&&void 0===c.status?200:1223===c.status?204:c.status;var t=g,r=null;return 0!==e?(t={body:function(){var e=void 0;if(e=c.response?c.response:c.responseText||function(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(e){}return null}(c),d)try{e=JSON.parse(e)}catch(e){}return e}(),statusCode:e,method:p,headers:{},url:s,rawRequest:c},c.getAllResponseHeaders&&(t.headers=b(c.getAllResponseHeaders()))):r=new Error("Internal XMLHttpRequest Error"),i(r,t,t.body)}}var r,a,u,c=n.xhr||null,s=(c=c||(n.cors||n.useXDR?new h.XDomainRequest:new h.XMLHttpRequest)).url=n.uri||n.url,p=c.method=n.method||"GET",f=n.body||n.data,l=c.headers=n.headers||{},y=!!n.sync,d=!1,g={body:void 0,headers:{},statusCode:0,method:p,url:s,rawRequest:c};if("json"in n&&!1!==n.json&&(d=!0,l.accept||l.Accept||(l.Accept="application/json"),"GET"!==p&&"HEAD"!==p&&(l["content-type"]||l["Content-Type"]||(l["Content-Type"]="application/json"),f=JSON.stringify(!0===n.json?f:n.json))),c.onreadystatechange=function(){4===c.readyState&&setTimeout(e,0)},c.onload=e,c.onerror=t,c.onprogress=function(){},c.onabort=function(){a=!0},c.ontimeout=t,c.open(p,s,!y,n.username,n.password),y||(c.withCredentials=!!n.withCredentials),!y&&0<n.timeout&&(u=setTimeout(function(){if(!a){a=!0,c.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",t(e)}},n.timeout)),c.setRequestHeader)for(r in l)l.hasOwnProperty(r)&&c.setRequestHeader(r,l[r]);else if(n.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(n.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in n&&(c.responseType=n.responseType),"beforeSend"in n&&"function"==typeof n.beforeSend&&n.beforeSend(c),c.send(f||null),c}t.exports=h,(t.exports.default=h).XMLHttpRequest=n.XMLHttpRequest||function(){},h.XDomainRequest="withCredentials"in new h.XMLHttpRequest?h.XMLHttpRequest:n.XDomainRequest,function(e,t){for(var r=0;r<e.length;r++)t(e[r])}(["get","put","post","patch","head","delete"],function(n){h["delete"===n?"del":n]=function(e,t,r){return(t=a(e,t,r)).method=n.toUpperCase(),u(t)}})},{"global/window":16,"is-function":19,"parse-headers":23,xtend:32}],32:[function(e,t,r){t.exports=function(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var n in r)o.call(r,n)&&(e[n]=r[n])}return e};var o=Object.prototype.hasOwnProperty},{}],33:[function(e,t,r){"use strict";function c(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function s(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}var p=e("fast-deep-equal"),a=e("querystring"),u=e("request"),f={varsnap:"varsnap",env:"env",producerToken:"producerToken",consumerToken:"consumerToken"},l=[],y=[],d=function(){function t(){o(this,t)}return i(t,null,[{key:"getConfig",value:function(e,t){if(!e)return"";var r=e[t];return r?r=r.toString().toLowerCase():""}},{key:"getSignature",value:function(e){var t=e.toString().split("{")[0];return"javascript.v1.0.1."+(t=t.replace(/^\s+|\s+$/g,""))}},{key:"ajax",value:function(e,t){var r={method:"POST",uri:e,body:a.stringify(t).toString("utf8"),headers:{"Content-Type":"application/x-www-form-urlencoded"}};return new Promise(function(n,o){u(r,function(e,t,r){return e?o(e):2!=parseInt(t.statusCode/100,10)?o(new Error("Status: "+t.statusCode)):(r=JSON.parse(r),n(r))})})}},{key:"getLogger",value:function(){return t.logger?t.logger:console}},{key:"log",value:function(e){t.getLogger().log(e)}},{key:"error",value:function(e){t.getLogger().error(e)}},{key:"resetProducers",value:function(){l=[]}},{key:"resetConsumers",value:function(){y=[]}},{key:"getProducers",value:function(){return l}},{key:"getConsumers",value:function(){return y}}]),t}(),g=function(){function n(e,t){o(this,n),this.targetFunc=e,this.config=t}return i(n,[{key:"isEnabled",value:function(){return"true"===d.getConfig(this.config,f.varsnap)&&("production"===d.getConfig(this.config,f.env)&&!!d.getConfig(this.config,f.producerToken))}},{key:"produce",value:function(e,t){if(this.isEnabled()){d.log("Sending call to VarSnap");var r={producer_token:d.getConfig(this.config,f.producerToken),signature:d.getSignature(this.targetFunc),inputs:n.serialize(e),prod_outputs:n.serialize(t)};d.ajax("https://www.varsnap.com/api/snap/produce/",r).catch(function(e){404===e.statusCode?d.error("Cannot produce to VarSnap; check your producer token"):d.error(e.error)})}}}],[{key:"serialize",value:function(e){return JSON.stringify(e)}}]),n}(),b=function(){function c(e,t){o(this,c),this.targetFunc=e,this.config=t}return i(c,[{key:"isEnabled",value:function(){return"true"===d.getConfig(this.config,f.varsnap)&&("development"===d.getConfig(this.config,f.env)&&!!d.getConfig(this.config,f.consumerToken))}},{key:"consumeOnce",value:function(){var u=this;if(this.isEnabled()){var e={consumer_token:d.getConfig(this.config,f.consumerToken),signature:d.getSignature(this.targetFunc)};return d.ajax("https://www.varsnap.com/api/snap/consume/",e).then(function(e){if(!e||"ok"!==e.status)return!1;var t=!0,r=!1,n=void 0;try{for(var i,o=function(){var e=i.value,t=c.deserialize(e.inputs),r=c.deserialize(e.prod_outputs),n=void 0;try{n=u.targetFunc.apply(u,s(t))}catch(e){n=e}var o=p(r,n);u.reportCentral(e,n,o).then(function(e){u.reportLog(t,r,n,o,e)}),o=o},a=e.results[Symbol.iterator]();!(t=(i=a.next()).done);t=!0)o()}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}return!0}).catch(function(e){return d.error("Cannot contact VarSnap: "+e),!1})}}},{key:"reportCentral",value:function(e,t,r){var n={consumer_token:d.getConfig(this.config,f.consumerToken),snap_id:e.id,test_outputs:g.serialize(t),matches:r};return d.ajax("https://www.varsnap.com/api/trial/produce/",n).then(function(e){return!(!e||"ok"!==e.status)&&e.trial_url}).catch(function(e){return d.error("Cannot upload test results to VarSnap: "+e),!1})}},{key:"reportLog",value:function(e,t,r,n,o){var i=d.getSignature(this.targetFunc);d.log("Testing with VarSnap uuid:     "+snap.id),d.log("Function:                      "+i),d.log("Function input args:           "+e),d.log("Production function outputs:   "+t),d.log("Your function outputs:         "+r),d.log("Matching outputs:              "+n),d.log("Trial URL:                     "+o),d.log("")}}],[{key:"deserialize",value:function(e){if(""!==e)return JSON.parse(e)}}]),c}();function h(){return(h=function(u){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=u.apply(e,a);function o(e){c(n,t,r,o,i,"next",e)}function i(e){c(n,t,r,o,i,"throw",e)}o(void 0)})}}(regeneratorRuntime.mark(function e(){var t,r,n,o,i,a,u,c,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=d.getConsumers(),o=!(n=r=!0),i=void 0,e.prev=5,a=t[Symbol.iterator]();case 7:if(n=(u=a.next()).done){e.next=16;break}return c=u.value,e.next=11,c.consumeOnce();case 11:s=e.sent,r=r&&s;case 13:n=!0,e.next=7;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(5),o=!0,i=e.t0;case 22:e.prev=22,e.prev=23,n||null==a.return||a.return();case 25:if(e.prev=25,o)throw i;e.next=28;break;case 28:return e.finish(25);case 29:return e.finish(22);case 30:return e.abrupt("return",r);case 31:case"end":return e.stop()}},e,null,[[5,18,22,30],[23,,25,29]])}))).apply(this,arguments)}t.exports={configKeys:f,Util:d,Producer:g,Consumer:b,runTests:function(){return h.apply(this,arguments)},varsnap:function e(o){if(void 0===e.config)return console.error("Varsnap has no config; disabling."),o;e.config.logger&&(d.logger=e.config.logger);function t(){for(var e="",t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];try{e=o.apply(void 0,r)}catch(e){throw i.produce(r,e),e}return i.produce(r,e),e}var i=new g(o,e.config),r=new b(o,e.config);return t.producer=i,t.consumer=r,l.push(i),y.push(r),t},version:"v1.0.1"}},{"fast-deep-equal":12,querystring:26,request:31}]},{},[1])(1)})}("undefined"==typeof VarSnap?VarSnap={}:VarSnap);
